{% extends 'dreamstone/base.html.twig' %}

{% block body %}
<div class="row">
  <div class="col-xs-12">
    <div class="box box-primary">
      <div class="box-body no-padding">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Login</th>
              <th class="hidden-xs">Email</th>
              <th class="hidden-xs"><i class="glyphicon glyphicon-option-vertical"></i></th>
            </tr>
          </thead>
          <tbody>
{% for administrator in administrators %}
            <tr>
              <td>{{ administrator.name }}</td>
              <td>{{ administrator.username }}</td>
              <td class="hidden-xs">{{ administrator.email }}</td>
              <td class="btn-group">
    {% if is_granted('ROLE_SUPER_ADMIN') or app.user.id == administrator.id %}
                <a href="{{ path('administrators-edit', {'id': administrator.id}) }}" class="btn btn-default">
                  <i class="glyphicon glyphicon-pencil"></i>
                </a>
        {% if is_granted('ROLE_SUPER_ADMIN') %}
                <a href="{{ path('administrator-switch-status') }}"
                    data-id="{{ administrator.id }}"
                    data-enable-message="Isso irá habilitar a conta de {{ administrator.username }}. Continuar?"
                    data-disable-message="Isso irá desabilitar {{ administrator.username }}. Continuar?"
                    data-status="{{ administrator.isActive }}"
                    class="status-change-button btn btn-{% if administrator.isActive %}success{% else %}danger{% endif %}"
                >
                  <i class="fa fa-{% if administrator.isActive %}check{% else %}times{% endif %}-circle"></i>
                </a>
        {% endif %}
    {% endif %}
              </td>
            </tr>
{% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block stylesheets %}
{% endblock %}
